INSERT INTO `stored_query` (`qid`, `name`, `description`, `sql`) VALUES
('FKS.CHECK',	'FYKOS Kontrola bodování',	'Nepřepočítané body za jednotlivé úlohy u všech řešitelů, kteří něco poslali.',	'select ct.name, ct.school_name, s.*\nfrom (\n  select s.contestant_id,\n	  max(if(t.tasknr = 1, s.raw_points, null)) AS `1`,\n	  max(if(t.tasknr = 2, s.raw_points, null)) AS `2`,\n	  max(if(t.tasknr = 3, s.raw_points, null)) AS `3`,\n	  max(if(t.tasknr = 4, s.raw_points, null)) AS `4`,\n	  max(if(t.tasknr = 5, s.raw_points, null)) AS `5`,\n	  max(if(t.tasknr = 6, s.raw_points, null)) AS `P`,\n	  max(if(t.tasknr = 7, s.raw_points, null)) AS `E`,\n	  max(if(t.tasknr = 8, s.raw_points, null)) AS `S`\n  from submit s\n  inner join task t on s.task_id = t.task_id\n  where\n	  t.year = :year\n	  and t.contest_id = :contest\n	  and t.series = :series\n  group by s.contestant_id\n ) s\n left join v_contestant ct on ct.contestant_id = s.contestant_id\n order by ct.name_lex'),
('VYF.CHECK',	'Výfuk Kontrola bodování',	'Nepřepočítané body za jednotlivé úlohy u všech řešitelů, kteří něco poslali.',	'select ct.name, ct.school_name, s.*\nfrom (\n  select s.contestant_id,\n	  max(if(t.tasknr = 1, s.raw_points, null)) AS `1`,\n	  max(if(t.tasknr = 2, s.raw_points, null)) AS `2`,\n	  max(if(t.tasknr = 3, s.raw_points, null)) AS `3`,\n	  max(if(t.tasknr = 4, s.raw_points, null)) AS `4`,\n	  max(if(t.tasknr = 5, s.raw_points, null)) AS `E`,\n	  max(if(t.tasknr = 6, s.raw_points, null)) AS `C`\n  from submit s\n  inner join task t on s.task_id = t.task_id\n  where\n	  t.year = :year\n	  and t.contest_id = :contest\n	  and t.series = :series\n  group by s.contestant_id\n ) s\n left join v_contestant ct on ct.contestant_id = s.contestant_id\n order by ct.name_lex'),
('FKS.BONUS',	'FYKOS Bonusy řešitelů',	'Bonusové body u řešitelů, kteří získali alespoň jeden bonusový bod.',	'select ct.name, ct.school_name, s.*\nfrom (\n  select s.contestant_id,\n	  max(if(t.tasknr = 1, s.raw_points - t.points, null)) AS `1`,\n	  max(if(t.tasknr = 2, s.raw_points - t.points, null)) AS `2`,\n	  max(if(t.tasknr = 3, s.raw_points - t.points, null)) AS `3`,\n	  max(if(t.tasknr = 4, s.raw_points - t.points, null)) AS `4`,\n	  max(if(t.tasknr = 5, s.raw_points - t.points, null)) AS `5`,\n	  max(if(t.tasknr = 6, s.raw_points - t.points, null)) AS `P`,\n	  max(if(t.tasknr = 7, s.raw_points - t.points, null)) AS `E`,\n	  max(if(t.tasknr = 8, s.raw_points - t.points, null)) AS `S`\n  from submit s\n  inner join task t on s.task_id = t.task_id\n  where\n	  t.year = :year\n	  and t.contest_id = :contest\n	  and t.series = :series\n  	  and s.raw_points > t.points  	\n  group by s.contestant_id\n ) s\n left join v_contestant ct on ct.contestant_id = s.contestant_id\n order by ct.name_lex'),
('VYF.BONUS',	'Výfuk Bonusy řešitelů',	'Bonusové body u řešitelů, kteří získali alespoň jeden bonusový bod.',	'select ct.name, ct.school_name, s.*\nfrom (\n  select s.contestant_id,\n	  max(if(t.tasknr = 1, s.raw_points - t.points, null)) AS `1`,\n	  max(if(t.tasknr = 2, s.raw_points - t.points, null)) AS `2`,\n	  max(if(t.tasknr = 3, s.raw_points - t.points, null)) AS `3`,\n	  max(if(t.tasknr = 4, s.raw_points - t.points, null)) AS `4`,\n	  max(if(t.tasknr = 5, s.raw_points - t.points, null)) AS `E`,\n	  max(if(t.tasknr = 6, s.raw_points - t.points, null)) AS `C`\n  from submit s\n  inner join task t on s.task_id = t.task_id\n  where\n	  t.year = :year\n	  and t.contest_id = :contest\n	  and t.series = :series\n  	  and s.raw_points > t.points  	\n  group by s.contestant_id\n ) s\n left join v_contestant ct on ct.contestant_id = s.contestant_id\n order by ct.name_lex');
